# Fantasy Manager

Автоматизированный инструмент для управления аккаунтами Fantasy на Monad.

## Описание

Данный скрипт автоматизирует процессы авторизации и выполнения ежедневных заданий для множества аккаунтов Fantasy. Основные функции:

- Авторизация через приватный ключ
- Получение ежедневных наград (daily claim)
- Выполнение квеста "onboarding" для новых аккаунтов

## Настройка

1. Создайте папки `data` и `logs`, если они не существуют.
2. Добавьте ваши приватные ключи и адреса в файл `data/keys_and_addresses.txt` в формате:
   ```
   privateKey:walletAddress
   ```
3. Добавьте прокси в файл `data/proxys.txt` (по одному на строку)
4. Настройте файл `data/config.json` согласно вашим требованиям

## Конфигурация

Основные параметры в `config.json`:

```json
{
    "app": {
        "threads": 10,              // Количество потоков
        "keys_file": "data/keys_and_addresses.txt",
        "proxy_file": "data/proxys.txt",
    },
    "capmonster": {
        "enabled": true,            // Включить capmonster для решения капчи
        "api_key": "your-api-key"   // Ваш API ключ Capmonster
    },
    "daily": {
        "enabled": true             // Включить получение ежедневных наград
    },
    "onboarding_quest": {
        "enabled": false,           // Если true, выполнит onboarding квест
        "id": "69e67d0a-0a08-4085-889f-58df15bdecb8"
    }
}
```

## Использование

Запустите скрипт командой:

```
python run.py
```

При запуске вы можете указать задержку перед началом в секундах.

## Отладка

В файле `utils.py` можно изменить значение `DEBUG_MODE = True` для получения подробных логов. По умолчанию режим отладки отключен для минимизации вывода.

## Функции

### Авторизация

Скрипт автоматически авторизуется через Privy используя SIWE (Sign-In With Ethereum). Для каждого аккаунта сохраняется токен и куки для повторного использования.

### Daily Claim

После успешной авторизации скрипт получает ежедневную награду. Если включено, эта функция будет вызываться для каждого аккаунта автоматически. В логах отображается:
- Текущая серия (streak)
- День в серии
- Тип и размер полученной награды

### Onboarding Quest

Если в `config.json` включена опция `onboarding_quest`, скрипт выполнит квест Onboarding для новых аккаунтов. Данный квест выполняется один раз для каждого аккаунта.

## Логи

Все операции логируются в терминале и в файле `logs/app.log`:
- SUCCESS: успешные операции (зеленый цвет)
- ERROR: ошибки (красный цвет)
- INFO: информационные сообщения
- RATE LIMIT: ограничения по частоте запросов (желтый цвет)

Успешные аккаунты сохраняются в `logs/success_accounts.txt`.
Неудачные попытки записываются в `logs/failure_accounts.txt` для последующего повторения.
